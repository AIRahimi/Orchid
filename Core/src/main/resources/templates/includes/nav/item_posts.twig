{%- if index.posts -%}
    {% import 'macros/nav.twig' as _nav_ %}

    {% set blogPages = index.posts.blog | walk('url') | sortPosts | limit(4) %}

    {% do blogPages.add({type: 'divider'}) %}

    {% if index.posts.archive and index.posts.archive.page %}

        {% set archivePages = index.posts.archive.page | walk('url') %}

        {% for archivePage in archivePages %}
            {% if archivePage.name == 'Archives (Page 1)' %}
                {% do archivePage.put('name', 'Archive') %}
                {% do blogPages.add(archivePage) %}
            {% endif %}
        {% endfor %}
    {% endif %}

    {{- _nav_.createSiteLink(link, blogPages, 'Blog') -}}
{%- endif -%}